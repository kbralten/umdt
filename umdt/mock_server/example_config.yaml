## Example mock MODBUS server configuration for development and testing

unit_id: 1

groups:
  - name: coils
    type: coil
    start: 0
    length: 16
    writable: true

  - name: holding_registers
    type: holding
    start: 0
    length: 10
    writable: true

rules:
  "0":
    mode: frozen-value
    forced_value: 123

scripts:
  - address: 2
    expression: |
      async def run(device):
          cur = device.read_register('holding_registers', 2)
          device.write_register('holding_registers', 2, cur + 1)
    description: "Heartbeat incrementer"
    enabled: true

latency_ms: 100
latency_jitter_pct: 30.0
faults:
  drop_rate_pct: 2.5
  bit_flip_pct: 0.1

transport:
  tcp_host: 0.0.0.0
  tcp_port: 5020

logging:
  level: INFO
